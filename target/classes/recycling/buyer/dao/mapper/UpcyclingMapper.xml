<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="recycling.buyer.dao.face.UpcyclingDao">

	<select id="selectPrdList" resultType="Prd">
	    SELECT * FROM Prd
	</select>
	
	<select id="selectPrd" resultType="Prd">
	    SELECT * FROM Prd
	    WHERE ctPno = #{ctPno}
	</select>

	<select id="selectListCntAll" resultType="Prd">
        SELECT COUNT(*) FROM Prd
    </select>
    
    <select id="selectRvwList" resultType="Review">
    	SELECT COUNT(*) FROM Review
    </select>
    
    <select id="selectRvwByCode" parameterType="int" resultType="Review">
        SELECT * FROM Review
        WHERE rvwCode = #{rvwCode}
    </select>

	<update id="updateReview">
        UPDATE Review SET rvwContent = #{rvwContent}
        WHERE rvwCode = #{rvwCode}
    </update>
    
    <insert id="writeReview">
        INSERT INTO Review (rvwContent, bCode)
        VALUES (#{rvwContent}, #{buyer.bCode})
    </insert>
    
    <delete id="deleteReview" parameterType="int">
        DELETE FROM Review WHERE rvwCode = #{rvwCode}
    </delete>
</mapper>