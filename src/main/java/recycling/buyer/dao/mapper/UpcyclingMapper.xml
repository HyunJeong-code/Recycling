<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="recycling.buyer.dao.face.UpcyclingDao">

	<select id="selectPrdList" resultType="Prd">
	    SELECT * FROM Prd
	</select>
	
	<select id="selectPrd" resultType="Prd">
	    SELECT * FROM Prd
<<<<<<< HEAD
	    WHERE PRD_CODE = #{prdCode}
	</select>
	
	<select id="selectSellerProfByCode" resultType="SellerProf">
		SELECT * FROM SELLER_PROF
		WHERE S_CODE = #{sCode}
=======
	    WHERE ctPno = #{ctPno}
>>>>>>> f19f9ceb93cb50d853ecf2cef33dca70a5aa799e
	</select>

	<select id="selectListCntAll" resultType="Prd">
        SELECT COUNT(*) FROM Prd
    </select>
    
<<<<<<< HEAD
    <select id="selectRvwList"	parameterType="String"	resultType="Review">
    	SELECT COUNT(*) FROM Review
    	WHERE PRD_CODE = #{prdCode}
=======
    <select id="selectRvwList" resultType="Review">
    	SELECT COUNT(*) FROM Review
>>>>>>> f19f9ceb93cb50d853ecf2cef33dca70a5aa799e
    </select>
    
    <select id="selectRvwByCode" parameterType="int" resultType="Review">
        SELECT * FROM Review
<<<<<<< HEAD
        WHERE RVW_CODE  = #{rvwCode}
    </select>

	<update id="updateReview" parameterType="map">
        UPDATE Review 
        SET RVW_TITLE = #{rvwTitle}, RVW_CONTENT = #{rvwContent}, RVW_GRADE = #{rvwGrade}
        WHERE RVW_CODE = #{rvwCode}
    </update>
    
    <insert id="writeReview" parameterType="map">
        INSERT INTO Review (RVW_CODE, RVW_CT_NO, PRD_CODE, B_CODE, RVW_TITLE, RVW_CONTENT, RVW_GRADE, RVW_DATE, RVW_HIT)
        VALUES (#{rvwCode}, #{rvwCtNo}, #{prdCode}, #{bCode}, #{rvwTitle}, #{rvwContent}, #{rvwGrade}, SYSDATE, 0)
    </insert>
    
    <delete id="deleteReview" parameterType="int">
        DELETE FROM Review
        WHERE RVW_CODE = #{rvwCode}
=======
        WHERE rvwCode = #{rvwCode}
    </select>

	<update id="updateReview">
        UPDATE Review SET rvwContent = #{rvwContent}
        WHERE rvwCode = #{rvwCode}
    </update>
    
    <insert id="writeReview">
        INSERT INTO Review (rvwContent, bCode)
        VALUES (#{rvwContent}, #{buyer.bCode})
    </insert>
    
    <delete id="deleteReview" parameterType="int">
        DELETE FROM Review WHERE rvwCode = #{rvwCode}
>>>>>>> f19f9ceb93cb50d853ecf2cef33dca70a5aa799e
    </delete>
</mapper>